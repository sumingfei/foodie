<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head profile="http://gmpg.org/xfn/11">

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.8/themes/base/jquery-ui.css" type="text/css" media="all">
<link rel="stylesheet" href="styles/main.css" type="text/css"/>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/jquery-ui.min.js"></script>

</head><body>

<meta charset="utf-8">
	<style>
	h1 { padding: .2em; margin: 0; }
	#products { float:right; width: 500px; margin-right: 2em; }
	#cart { width: 200px; float: left; }
	/* style the list to maximize the droppable hitarea */
	#cart ol { margin: 0; padding: 1em 0 1em 3em; }
	</style>
	<script>
	function setDraggable(){
		$( "#search_result span" ).draggable({
			appendTo: "body",
			helper: "clone"
		});
	}
	$(function() {
		$("#search_input").submit(function(){
			$.ajax({
				type 	: "GET",
				url 	: "request.php",
				data	: {"search_term" : $("#search_term").val() },
				success : function(response)
				{
					$("#search_result table").fadeOut("fast", function()
					{
						$("#search_result table").remove();
						$("#search_result").append($(response).hide().fadeIn());
						setDraggable();
					});

				}
			});
			return false;
		});
		
		$( "#cart ol" ).droppable({
			activeClass: "ui-state-default",
			hoverClass: "ui-state-hover",
			accept: ":not(.ui-sortable-helper)",
			drop: function( event, ui ) {
				$( this ).find( ".placeholder" ).remove();
				$( "<li></li>" ).text( ui.draggable.text() ).appendTo( this );
			}
		}).sortable({
			items: "li:not(.placeholder)",
			sort: function() {
				// gets added unintentionally by droppable interacting with sortable
				// using connectWithSortable fixes this, but doesn't allow you to customize active/hoverClass options
				$( this ).removeClass( "ui-state-default" );
			}
		});
		
	});
	</script>
<div id="content">

<form id="search_input" name="search_input">
	<input type="text" value="" id="search_term" name="search_term" />
	<input type="submit" value="Search" />
</form>
<div id="left">
<div id="search_result">
	<table></table>
</div></div>


<div id="right">
<div id="cart">
	<h1 class="ui-widget-header">BreakFast</h1>
	<div class="ui-widget-content">
		<ol>
			<li class="placeholder">Add food here</li>
		</ol>
	</div>
	<h1 class="ui-widget-header">Lunch</h1>
	<div class="ui-widget-content">
		<ol>
			<li class="placeholder">Add food here</li>
		</ol>
	</div>
	<h1 class="ui-widget-header">Dinner</h1>
	<div class="ui-widget-content">
		<ol>
			<li class="placeholder">Add food here</li>
		</ol>
	</div>
</div>
</div>

</div>

</body></html>